<div class="row">
    <div class="col-md-4">
        <div class="input-group">
            <span class="input-group-addon">
                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
            </span>
            <input ng-model="$ctrl.busqueda" type="text" class="form-control" placeholder="Buscar...">
        </div>
    </div>
    <div class="col-md-3">
        <div class="input-group" role="group">
            <span class="input-group-addon">ordenar por</span>
            <span class="input-group-btn">
                <button class="btn btn-default" type="button">nombre</button>
                <button class="btn btn-default" type="button">dirección</button>
            </span>
        </div>
    </div>
    <div class="col-md-3">
        <div class="input-group">
            <span class="input-group-addon">
                Filtrar por proximidad? <input type="checkbox" aria-label="..." ng-model="$ctrl.filtrarPorProximidad">
            </span>
            <input type="text" class="form-control" aria-label="..." placeholder="radio [metros]" ng-model="$ctrl.distanciaMaxima">
        </div>
    </div>
    <div class="col-md-2">
        <div class="input-group">
            <span class="input-group-addon">
                Filtrar favoritos? <input type="checkbox" aria-label="..." ng-model="$ctrl.filtrarFavoritos">
            </span>
            <span class="input-group-addon"></span>
        </div>
    </div>
</div>

<div style="padding-bottom: 9px; border-bottom: 1px solid #eee; margin-bottom: 9px;">
    <div class="input-group" style="padding-bottom: 9px;">
        <span class="input-group-addon">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
        </span>
        <input ng-model="$ctrl.busqueda" type="text" class="form-control" placeholder="Buscar...">
    </div>
    <div class="radio-inline">
      <label>
        <input type="radio" ng-model="$ctrl.orden" name="optionsRadios" id="opcionNombre" value="EstacionNombre" checked>
        Ordenar por nombre
      </label>
    </div>
    <div class="radio-inline">
      <label>
        <input type="radio" ng-model="$ctrl.orden" id="opcionDireccion" value="Lugar">
        Ordenar por dirección
      </label>
    </div>
    <div class="input-group">
        <span class="input-group-addon">
            Filtrar por proximidad? <input type="checkbox" aria-label="..." ng-model="$ctrl.filtrarPorProximidad">
        </span>
        <input type="text" class="form-control" aria-label="..." placeholder="filtrar en un radio en metros de..." ng-model="$ctrl.distanciaMaxima">
    </div>
    <div class="input-group">
        <span class="input-group-addon">
            Filtrar favoritos? <input type="checkbox" aria-label="..." ng-model="$ctrl.filtrarFavoritos">
        </span>
    </div>
</div>
<div>Favoritas: {{$ctrl.storage.favoritas}}</div>
<ul class="list-group">
    <li ng-repeat="estacion in $ctrl.estaciones | porProximidad:$ctrl.filtrarPorProximidad:$ctrl.posicion:$ctrl.distanciaMaxima | porEstacion: $ctrl.busqueda | orderBy : $ctrl.orden | favoritos:$ctrl.filtrarFavoritos" class="list-group-item">
        <h4 class="list-group-item-heading">
            {{estacion.EstacionNombre}}
            <small>ID: {{estacion.EstacionId}}</small>
        </h4>
        <p>
            <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
            {{estacion.Lugar}}
        </p>
        <p><small>Estación favorita? {{estacion.favorita}}</small></p>
        <p ng-show="$ctrl.filtrarPorProximidad"><small>Distancia al centro: {{estacion.distancia | number:0}} metros</small></p>
        <a type="button" class="btn btn-primary" href="#!/estaciones/{{estacion.EstacionId}}">Ver Detalle</a>
        <button type="button" class="btn btn-default" ng-click="$ctrl.favorita(estacion.EstacionId)">Favorita</button>
    </li>
</ul>
